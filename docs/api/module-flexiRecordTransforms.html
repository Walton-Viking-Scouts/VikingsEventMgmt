<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: flexiRecordTransforms</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: flexiRecordTransforms</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>FlexiRecord transformation utilities for Viking Event Management</p>
<p>This module provides pure functions for transforming OSM FlexiRecord data into
meaningful, structured formats for the Viking Event Management system. Handles
field mapping, data transformation, and specialized Viking Event data extraction.</p>
<p>FlexiRecords are OSM's flexible record system that allows custom data fields.
For Viking Events, these are used to track camp groups, sign-in/out times, and
other event-specific data that supplements the standard member information.</p>
<p>All functions are pure and focused on data transformation without side effects,
following functional programming principles for better testability and reliability.</p></div>
        

        
            















<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>2.3.7</li></ul></dd>
    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0 - Initial FlexiRecord support</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vikings Event Management Team</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="shared_utils_flexiRecordTransforms.js.html">shared/utils/flexiRecordTransforms.js</a>, <a href="shared_utils_flexiRecordTransforms.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".extractVikingEventFields"><span class="type-signature">(static) </span>extractVikingEventFields<span class="signature">(consolidatedData)</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>
    

    



<div class="description">
    <p>Extracts Viking Event Management specific fields from transformed FlexiRecord data</p>
<p>Filters and organizes FlexiRecord data to focus specifically on Viking Event
Management fields: CampGroup, SignedInBy, SignedInWhen, SignedOutBy, SignedOutWhen.
This creates a clean data structure containing only the core scout information
plus Viking Event specific tracking data, perfect for event management interfaces.</p>
<p>The function preserves essential scout identification and demographic data while
adding the Viking Event Management tracking fields that support camp group
organization, attendance tracking, and sign-in/out workflows.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>consolidatedData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Consolidated and transformed FlexiRecord data</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Array of scout records with transformed field names</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fieldMapping</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Field mapping for reference</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="shared_utils_flexiRecordTransforms.js.html">shared/utils/flexiRecordTransforms.js</a>, <a href="shared_utils_flexiRecordTransforms.js.html#line415">line 415</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of scout data containing core info plus Viking Event fields</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// Extract Viking Event fields for camp group management
const consolidatedData = {
  items: [
    {
      scoutid: '12345',
      firstname: 'Alice',
      lastname: 'Smith',
      dob: '2010-03-15',
      age: 14,
      patrol: 'Eagles',
      patrolid: 'P001',
      photo_guid: 'photo123',
      CampGroup: '3',
      SignedInBy: 'Leader Bob',
      SignedInWhen: '2024-07-15 09:30:00',
      SignedOutBy: null,
      SignedOutWhen: null,
      // ... other non-Viking fields excluded
    }
  ]
};

const vikingData = extractVikingEventFields(consolidatedData);

vikingData.forEach(scout => {
  console.log(`${scout.firstname} ${scout.lastname} (Age ${scout.age})`);
  console.log(`Camp Group: ${scout.CampGroup || 'Unassigned'}`);
  console.log(`Status: ${scout.SignedInWhen ? 'Signed In' : 'Not Arrived'}`);
  
  if (scout.SignedInWhen) {
    console.log(`Signed in by ${scout.SignedInBy} at ${scout.SignedInWhen}`);
  }
  
  if (scout.SignedOutWhen) {
    console.log(`Signed out by ${scout.SignedOutBy} at ${scout.SignedOutWhen}`);
  }
});</code></pre>

    <pre class="prettyprint"><code>// Generate camp group attendance report
const vikingScouts = extractVikingEventFields(transformedData);
const campGroups = {};

vikingScouts.forEach(scout => {
  const group = scout.CampGroup || 'Unassigned';
  if (!campGroups[group]) {
    campGroups[group] = { signedIn: [], notArrived: [] };
  }
  
  if (scout.SignedInWhen) {
    campGroups[group].signedIn.push(scout);
  } else {
    campGroups[group].notArrived.push(scout);
  }
});

Object.entries(campGroups).forEach(([groupName, members]) => {
  console.log(`${groupName}: ${members.signedIn.length} present, ${members.notArrived.length} expected`);
});</code></pre>

    <pre class="prettyprint"><code>// Handle missing or incomplete Viking Event data
const partialData = { items: [
  { scoutid: '111', firstname: 'Bob' }, // No Viking Event data
  { scoutid: '222', firstname: 'Sue', CampGroup: '1' } // Partial data
]};

const extracted = extractVikingEventFields(partialData);
// Returns scout objects with available fields, undefined for missing ones
console.log(extracted[0].CampGroup); // undefined
console.log(extracted[1].CampGroup); // '1'</code></pre>



        
            

    

    
    <h4 class="name" id=".organizeMembersByCampGroups"><span class="type-signature">(static) </span>organizeMembersByCampGroups<span class="signature">(processedMembers)</span><span class="type-signature"> &rarr; {Object|Object|Object}</span></h4>
    

    



<div class="description">
    <p>Organizes members by their assigned camp groups for Viking Event management</p>
<p>Processes member data from getSummaryStats() to create organized camp groups
structure. Automatically filters out leaders (who supervise rather than participate
in camp groups) and organizes young people by their assigned camp group numbers.</p>
<p>This function is essential for the camp group management interface, providing
structured data that enables group-based attendance tracking, activity organization,
and leadership supervision during Viking Events.</p>
<p>The function maintains proper separation between leaders and young people,
ensures consistent sorting by name within each group, and provides comprehensive
metadata about group organization and Viking Event data availability.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>processedMembers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            

            

            <td class="description last"><p>Members with attached vikingEventData from getSummaryStats()</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>scoutid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Unique member identifier</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Member full name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>firstname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Member first name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lastname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Member last name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>person_type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Member type ('Leaders', 'Young Leaders', 'Young People', etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>vikingEventData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Viking Event specific data from FlexiRecord</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>CampGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Assigned camp group number</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.1.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="shared_utils_flexiRecordTransforms.js.html">shared/utils/flexiRecordTransforms.js</a>, <a href="shared_utils_flexiRecordTransforms.js.html#line566">line 566</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    <p>Organized camp groups with metadata</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    <p>returns.groups - Camp groups organized by group name</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    <p>returns.summary - Summary statistics and metadata</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    </ul>




    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// Organize members from getSummaryStats into camp groups
const processedMembers = [
  {
    scoutid: '12345',
    name: 'Alice Smith',
    firstname: 'Alice',
    lastname: 'Smith',
    person_type: 'Young People',
    vikingEventData: { CampGroup: '3' }
  },
  {
    scoutid: '67890',
    name: 'Bob Johnson',
    firstname: 'Bob',
    lastname: 'Johnson',
    person_type: 'Leaders',
    vikingEventData: { CampGroup: '1' } // Leaders filtered out
  },
  {
    scoutid: '11111',
    name: 'Charlie Brown',
    firstname: 'Charlie',
    lastname: 'Brown',
    person_type: 'Young People',
    vikingEventData: { CampGroup: '3' }
  }
];

const organized = organizeMembersByCampGroups(processedMembers);

// Access organized groups
console.log('Camp Groups:', Object.keys(organized.groups));
// Output: ['Group 3'] (Group 1 not included - only had leaders)

organized.groups['Group 3'].youngPeople.forEach(member => {
  console.log(`${member.firstname} ${member.lastname} - Group ${member.campGroup}`);
});
// Output: 
// Charlie Brown - Group 3
// Alice Smith - Group 3 (sorted by lastname)</code></pre>

    <pre class="prettyprint"><code>// Access summary statistics
const result = organizeMembersByCampGroups(members);

console.log(`Total Groups: ${result.summary.totalGroups}`);
console.log(`Total Young People: ${result.summary.totalYoungPeople}`);
console.log(`Has Unassigned: ${result.summary.hasUnassigned}`);
console.log(`Viking Data Available: ${result.summary.vikingEventDataAvailable}`);

// Check for members without camp group assignments
if (result.summary.hasUnassigned) {
  const unassigned = result.groups['Group Unassigned'];
  console.log(`${unassigned.youngPeople.length} members need group assignment`);
}</code></pre>

    <pre class="prettyprint"><code>// Generate camp group attendance report
const campGroupData = organizeMembersByCampGroups(members);

Object.entries(campGroupData.groups).forEach(([groupName, group]) => {
  console.log(`\n${groupName} (${group.totalMembers} members):`);
  
  group.youngPeople.forEach(member => {
    const status = member.vikingEventData?.SignedInWhen ? '✓ Present' : '○ Expected';
    console.log(`  ${member.firstname} ${member.lastname} - ${status}`);
  });
});</code></pre>

    <pre class="prettyprint"><code>// Handle missing Viking Event data gracefully
const membersWithoutFlexiData = [
  { scoutid: '999', name: 'Dave Wilson', person_type: 'Young People' }
];

const result = organizeMembersByCampGroups(membersWithoutFlexiData);
// Members without vikingEventData go to 'Group Unassigned'
console.log(result.groups['Group Unassigned'].youngPeople.length); // 1</code></pre>



        
            

    

    
    <h4 class="name" id=".parseFlexiStructure"><span class="type-signature">(static) </span>parseFlexiStructure<span class="signature">(structureData)</span><span class="type-signature"> &rarr; {Map.&lt;string, Object>}</span></h4>
    

    



<div class="description">
    <p>Parses FlexiRecord structure configuration to create field mapping</p>
<p>Converts OSM FlexiRecord structure configuration into a standardized Map
that maps generic field IDs (f_1, f_2, etc.) to meaningful field metadata
including names, widths, and display properties. This enables transformation
of raw FlexiRecord data into human-readable formats.</p>
<p>The structure data comes from OSM's getFlexiStructure API and contains both
a config JSON string with field definitions and a structure array with
additional metadata for each field.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>structureData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Structure data from OSM getFlexiStructure API</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>JSON string containing field mappings</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>structure</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Array of structure sections with field details</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>extraid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>FlexiRecord type identifier</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="shared_utils_flexiRecordTransforms.js.html">shared/utils/flexiRecordTransforms.js</a>, <a href="shared_utils_flexiRecordTransforms.js.html#line87">line 87</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If structure data is invalid or parsing fails</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Map of field ID to comprehensive field metadata</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Map.&lt;string, Object></span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// Parse Viking Event FlexiRecord structure
const structureData = {
  config: '[{"id":"f_1","name":"CampGroup","width":"100"},{"id":"f_2","name":"SignedInBy","width":"150"}]',
  structure: [
    {
      rows: [
        { field: 'f_1', name: 'CampGroup', width: '100px', editable: true },
        { field: 'f_2', name: 'SignedInBy', width: '150px', editable: false }
      ]
    }
  ]
};

const fieldMapping = parseFlexiStructure(structureData);
console.log(fieldMapping.get('f_1')); 
// Output: { name: 'CampGroup', width: '100px', fieldId: 'f_1', editable: true }</code></pre>

    <pre class="prettyprint"><code>// Handle multiple structure sections
const complexStructure = {
  config: '[{"id":"f_1","name":"CampGroup"},{"id":"f_3","name":"SignedInWhen"}]',
  structure: [
    { rows: [{ field: 'f_1', name: 'Camp Group', formatter: 'number' }] },
    { rows: [{ field: 'f_3', name: 'Sign In Time', formatter: 'datetime' }] }
  ]
};

const mapping = parseFlexiStructure(complexStructure);
mapping.forEach((fieldInfo, fieldId) => {
  console.log(`${fieldId}: ${fieldInfo.name} (${fieldInfo.formatter || 'text'})`);
});</code></pre>

    <pre class="prettyprint"><code>// Error handling for invalid structure
try {
  const mapping = parseFlexiStructure(null);
} catch (error) {
  console.error('Structure parsing failed:', error.message);
  // Handle gracefully - perhaps show default columns
}</code></pre>



        
            

    

    
    <h4 class="name" id=".transformFlexiRecordData"><span class="type-signature">(static) </span>transformFlexiRecordData<span class="signature">(flexiData, fieldMapping)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Transforms FlexiRecord data by mapping generic field names to meaningful column names</p>
<p>Converts raw OSM FlexiRecord data with generic field identifiers (f_1, f_2, etc.)
into structured data with meaningful property names (CampGroup, SignedInBy, etc.).
This transformation makes the data much easier to work with in components and
provides better type safety and developer experience.</p>
<p>The transformation process preserves all original data while adding new properties
with meaningful names. Original field references are retained with <em>original</em> prefix
for debugging and fallback purposes.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>flexiData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Raw data from OSM getSingleFlexiRecord API</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Array of member records with generic field names</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>extraid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>FlexiRecord type identifier</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>meta</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Metadata about the FlexiRecord</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fieldMapping</code></td>
            

            <td class="type">
            
                
<span class="param-type">Map.&lt;string, Object></span>


            
            </td>

            

            

            <td class="description last"><p>Field mapping from parseFlexiStructure</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="shared_utils_flexiRecordTransforms.js.html">shared/utils/flexiRecordTransforms.js</a>, <a href="shared_utils_flexiRecordTransforms.js.html#line243">line 243</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If data is invalid or transformation fails</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Transformed data with meaningful field names and metadata</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// Transform Viking Event FlexiRecord data
const flexiData = {
  items: [
    {
      scoutid: '12345',
      firstname: 'Alice',
      lastname: 'Smith',
      f_1: '3',           // Camp Group
      f_2: 'Leader Bob',  // Signed In By
      f_3: '2024-07-15 09:30:00' // Signed In When
    },
    {
      scoutid: '67890', 
      firstname: 'Charlie',
      lastname: 'Brown',
      f_1: '1',
      f_2: 'Leader Alice',
      f_3: '2024-07-15 09:45:00'
    }
  ]
};

const transformedData = transformFlexiRecordData(flexiData, fieldMapping);

// Access data with meaningful names
transformedData.items.forEach(scout => {
  console.log(`${scout.firstname} is in Camp Group ${scout.CampGroup}`);
  console.log(`Signed in by ${scout.SignedInBy} at ${scout.SignedInWhen}`);
  
  // Original data still available for debugging
  console.log(`Original f_1 value: ${scout._original_f_1}`);
});</code></pre>

    <pre class="prettyprint"><code>// Handle missing or invalid data gracefully
const incompleteData = {
  items: [
    { scoutid: '111', firstname: 'Dave', f_1: '2' }, // Missing some fields
    { scoutid: '222', firstname: 'Eve' }             // No FlexiRecord data
  ]
};

const result = transformFlexiRecordData(incompleteData, fieldMapping);
// Transformation handles missing fields gracefully
console.log(result.items[1].CampGroup); // undefined (not an error)</code></pre>

    <pre class="prettyprint"><code>// Access transformation metadata
const transformed = transformFlexiRecordData(flexiData, fieldMapping);
console.log(`Transformed ${transformed._metadata.totalItems} items`);
console.log(`Used ${transformed._metadata.originalFieldCount} field mappings`);
console.log(`Transformation completed at ${transformed._metadata.transformedAt}`);</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-DatabaseService.html">DatabaseService</a></li><li><a href="module-EventCard.html">EventCard</a></li><li><a href="module-FlexiRecordService.html">FlexiRecordService</a></li><li><a href="module-ageUtils.html">ageUtils</a></li><li><a href="module-auth.html">auth</a></li><li><a href="module-cacheCleanup.html">cacheCleanup</a></li><li><a href="module-flexiRecordTransforms.html">flexiRecordTransforms</a></li><li><a href="module-logger.html">logger</a></li><li><a href="module-notifications.html">notifications</a></li><li><a href="module-sectionHelpers.html">sectionHelpers</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-logger-logger.html">logger</a></li></ul><h3>Classes</h3><ul><li><a href="APIQueue.html">APIQueue</a></li><li><a href="ErrorBoundary.html">ErrorBoundary</a></li><li><a href="RateLimitQueue.html">RateLimitQueue</a></li><li><a href="SyncService.html">SyncService</a></li><li><a href="module-DatabaseService-DatabaseService.html">DatabaseService</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Alert">Alert</a></li><li><a href="global.html#AuthButton">AuthButton</a></li><li><a href="global.html#CampGroupCard">CampGroupCard</a></li><li><a href="global.html#CampGroupsView">CampGroupsView</a></li><li><a href="global.html#ConfirmModal">ConfirmModal</a></li><li><a href="global.html#DEMO_CACHE_DATA">DEMO_CACHE_DATA</a></li><li><a href="global.html#GroupNamesEditModal">GroupNamesEditModal</a></li><li><a href="global.html#Modal">Modal</a></li><li><a href="global.html#REQUIRED_VIKING_SECTION_MOVERS_FIELDS">REQUIRED_VIKING_SECTION_MOVERS_FIELDS</a></li><li><a href="global.html#SectionFilter">SectionFilter</a></li><li><a href="global.html#_generateProductionFormatAttendance">_generateProductionFormatAttendance</a></li><li><a href="global.html#assignMemberToCampGroupDemo">assignMemberToCampGroupDemo</a></li><li><a href="global.html#batchAssignMembers">batchAssignMembers</a></li><li><a href="global.html#buildEventCard">buildEventCard</a></li><li><a href="global.html#checkNetworkStatus">checkNetworkStatus</a></li><li><a href="global.html#clearFlexiRecordCaches">clearFlexiRecordCaches</a></li><li><a href="global.html#cn">cn</a></li><li><a href="global.html#convertSharedEventToAttendanceFormat">convertSharedEventToAttendanceFormat</a></li><li><a href="global.html#demoConfig">demoConfig</a></li><li><a href="global.html#expandSharedEvents">expandSharedEvents</a></li><li><a href="global.html#extractFlexiRecordContext">extractFlexiRecordContext</a></li><li><a href="global.html#fetchAllSectionEvents">fetchAllSectionEvents</a></li><li><a href="global.html#fetchEventAttendance">fetchEventAttendance</a></li><li><a href="global.html#fetchMostRecentTermId">fetchMostRecentTermId</a></li><li><a href="global.html#fetchSectionEvents">fetchSectionEvents</a></li><li><a href="global.html#filterEventsByDateRange">filterEventsByDateRange</a></li><li><a href="global.html#formatPhoneForCall">formatPhoneForCall</a></li><li><a href="global.html#generateDemoSharedAttendance">generateDemoSharedAttendance</a></li><li><a href="global.html#generateVikingSectionMoversErrorMessages">generateVikingSectionMoversErrorMessages</a></li><li><a href="global.html#getEventAttendance">getEventAttendance</a></li><li><a href="global.html#getEventSharingStatus">getEventSharingStatus</a></li><li><a href="global.html#getEventSummary">getEventSummary</a></li><li><a href="global.html#getEvents">getEvents</a></li><li><a href="global.html#getFlexiRecords">getFlexiRecords</a></li><li><a href="global.html#getFlexiStructure">getFlexiStructure</a></li><li><a href="global.html#getListOfMembers">getListOfMembers</a></li><li><a href="global.html#getMembersGrid">getMembersGrid</a></li><li><a href="global.html#getMostRecentTermId">getMostRecentTermId</a></li><li><a href="global.html#getSharedEventAttendance">getSharedEventAttendance</a></li><li><a href="global.html#getSingleFlexiRecord">getSingleFlexiRecord</a></li><li><a href="global.html#getStartupData">getStartupData</a></li><li><a href="global.html#getTerms">getTerms</a></li><li><a href="global.html#getUserAccessibleSections">getUserAccessibleSections</a></li><li><a href="global.html#getUserRoles">getUserRoles</a></li><li><a href="global.html#groupContactInfo">groupContactInfo</a></li><li><a href="global.html#groupEventsByName">groupEventsByName</a></li><li><a href="global.html#handleAPIResponseWithRateLimit">handleAPIResponseWithRateLimit</a></li><li><a href="global.html#handlePhoneCall">handlePhoneCall</a></li><li><a href="global.html#initializeDemoMode">initializeDemoMode</a></li><li><a href="global.html#isDemoMode">isDemoMode</a></li><li><a href="global.html#isSharedEventOwner">isSharedEventOwner</a></li><li><a href="global.html#isValidPhoneNumber">isValidPhoneNumber</a></li><li><a href="global.html#logRateLimitInfo">logRateLimitInfo</a></li><li><a href="global.html#mergeSharedAndSectionAttendance">mergeSharedAndSectionAttendance</a></li><li><a href="global.html#multiUpdateFlexiRecord">multiUpdateFlexiRecord</a></li><li><a href="global.html#organizeByCampGroups">organizeByCampGroups</a></li><li><a href="global.html#parseTimestamp">parseTimestamp</a></li><li><a href="global.html#quickValidateVikingSectionMovers">quickValidateVikingSectionMovers</a></li><li><a href="global.html#retrieveUserInfo">retrieveUserInfo</a></li><li><a href="global.html#safeCacheWithLogging">safeCacheWithLogging</a></li><li><a href="global.html#safeGetItem">safeGetItem</a></li><li><a href="global.html#safeGetSessionItem">safeGetSessionItem</a></li><li><a href="global.html#safeSetItem">safeSetItem</a></li><li><a href="global.html#safeSetSessionItem">safeSetSessionItem</a></li><li><a href="global.html#sleep">sleep</a></li><li><a href="global.html#sleepWithAbort">sleepWithAbort</a></li><li><a href="global.html#testBackendConnection">testBackendConnection</a></li><li><a href="global.html#updateFlexiRecord">updateFlexiRecord</a></li><li><a href="global.html#useAttendanceData">useAttendanceData</a></li><li><a href="global.html#useSignInOut">useSignInOut</a></li><li><a href="global.html#validateMemberMove">validateMemberMove</a></li><li><a href="global.html#validateTokenBeforeAPICall">validateTokenBeforeAPICall</a></li><li><a href="global.html#validateVikingSectionMoversFlexiRecord">validateVikingSectionMoversFlexiRecord</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Sep 12 2025 15:24:48 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>